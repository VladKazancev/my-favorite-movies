{"version":3,"sources":["pages/LoginPage/components/Input/index.js","pages/LoginPage/components/Error/index.js","pages/LoginPage/components/Submit/index.js","components/LanguageSwitcher/index.js","components/LanguageSwitcher/consts.js","consts.js","utils.js","pages/LoginPage/index.js","components/Logout/index.js","components/Logout/consts.js","components/Header/index.js","components/Header/consts.js","components/hooks/useGenres.js","components/Tag/styled.js","components/Tag/index.js","pages/MainPage/components/TagsCloud/index.js","pages/MainPage/components/MoviesPanel/styled.js","components/ToggleButtons/styled.js","components/ToggleButtons/index.js","components/ToggleButtons/consts.js","pages/MainPage/components/MoviesPanelTitle/styled.js","pages/MainPage/components/MoviesPanelTitle/index.js","components/ServiceButtons/index.js","components/ServiceButtons/consts.js","components/DisplayMovieInfoHelper/styled.js","components/DisplayMovieInfoHelper/index.js","components/BlockMovieView/styled.js","components/BlockMovieView/index.js","components/ListMovieView/styled.js","components/ListViewScrollbarContainer/index.js","components/ListMovieView/index.js","components/ListMovieView/consts.js","components/MovieView/index.js","pages/MainPage/components/MovieViewWrapper/index.js","pages/MainPage/components/MoviesPanel/index.js","pages/MainPage/index.js","pages/SearchPage/Genre/index.js","pages/SearchPage/CustomSlider/styled.js","pages/SearchPage/CustomSlider/index.js","pages/SearchPage/CustomSelect/styled.js","pages/SearchPage/CustomSelect/index.js","pages/SearchPage/Filters/styled.js","pages/SearchPage/Filters/index.js","pages/SearchPage/SearchMovieViewWrapper/styled.js","pages/SearchPage/SearchMovieViewWrapper/index.js","pages/SearchPage/PageSwitcher/consts.js","pages/SearchPage/PageSwitcher/styled.js","pages/SearchPage/PageSwitcher/index.js","pages/SearchPage/FilteredMoviesPanel/styled.js","pages/SearchPage/FilteredMoviesPanel/index.js","pages/SearchPage/styled.js","pages/SearchPage/index.js","localization/index.js","App.js","index.js"],"names":["Input","input","placeholder","onChange","value","type","name","toLowerCase","required","className","toUpperCase","Error","text","Submit","submitClassName","join","LanguageSwitcher","useState","i18n","language","lng","setLng","onClick","currentValue","changeLanguage","src","alt","LOGO","IMAGE_URL","TMDB_URL","key","findUser","email","parseLsUsers","find","user","getResponse","URL","a","fetch","response","console","log","ok","json","JSON","parse","localStorage","getItem","ucFirst","str","slice","getGenres","getFavorite","setUserData","users","map","current","setItem","stringify","setFavoriteMoviesHelper","favoriteMovies","id","deleteMovie","updatedMovies","Object","assign","page","queryKeys","formatedGenres","selectedGenres","releaseYear","rating","LoginPage","useTranslation","useHistory","t","history","to","onSubmit","error","password","checkUserData","FORM_ERROR","String","push","render","handleSubmit","submitError","component","Logout","removeItem","Header","useGenres","genres","setGenres","useEffect","then","data","genresFromAPI","forEach","StyledTag","styled","button","isActive","md","Tag","Boolean","setActivity","handleClickTag","isFavorite","favoriteGenres","setFavoriteGenres","TagsCloud","keys","index","MoviesPanelContainer","div","isBlockView","length","ToggleButtonsContainer","ToggleButtons","props","e","onClickToggleButton","AddButton","MoviesPanelTitle","title","buttonText","ServiceButtons","serviceButtonsClassname","onClickConfirm","onClickDelete","DisplayContainer","DisplayMovieInfoHelper","voteAverage","releaseDate","BlockMovieViewContainer","BlockMovieView","movieInfo","imageSrc","poster_path","align","release_date","vote_average","children","ListMovieViewContainer","adultOnly","ListViewScrollbarContainer","description","companies","production_companies","productionCompanies","overview","ListMovieView","adult","MovieView","MovieViewWrapper","isViewed","movieId","setMovieInfo","getMovieById","MoviesPanel","setFavoriteMovies","setIsBlockView","handleClickDeleteButton","currentTarget","handleClickConfirmButton","moviesKeys","MainPage","Genre","onChangeSelectedGenres","target","StyledSlider","Slider","CustomSliderContainer","CustomSlider","sliderLabelValue","setLabelValue","injectFirst","step","max","defaultValue","onChangeCommitted","newValue","onChangeRating","StyledSelect","Select","CustomSelectContainer","CustomSelect","options","array","i","label","makeYearsList","classNamePrefix","onChangeSelect","FiltersContainer","Filters","genresFromApi","setRating","setReleaseYear","setSelectedGenres","handleChangeSelectedGenres","updatedGenres","filter","concat","setFilteredGenres","setQueryKeys","setPage","actualRating","actualYear","AddFilmButton","disabled","SearchMovieViewWrapper","addFavoriteMovie","PageSwitcherContainer","actualPage","isNextPage","PageSwitcher","FilteredMoviesPanelContainer","FilteredMoviesPanel","moviesInfo","object","SearchPageContainer","SearchPage","setIsNextPage","setMoviesInfo","getFilteredMovies","results","genre_ids","actual","formatingGenres","number","require","en","ru","use","initReactI18next","init","resources","App","document","querySelector","setAttribute","textContent","htmlLocalization","exact","path","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.3999c03b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Input({ input, placeholder }) {\r\n  return (\r\n    <input\r\n      onChange={(value) => input.onChange(value)}\r\n      type={input.name.toLowerCase()}\r\n      required\r\n      className=\"my-3 px-4 p-2 py-3 rounded-2xl text-white border bg-blackv2-form placeholder-gray-600 w-11/12 focus:outline-none\"\r\n      placeholder={placeholder.toUpperCase()}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Error({ text }) {\r\n  return <div className=\"text-orangev2-200 text-lg mb-2\">{text}</div>;\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Submit({ text }) {\r\n  const submitClassName = [\r\n    \"uppercase\",\r\n    \"font-bold\",\r\n    \"text-xl\",\r\n    \"text-white\",\r\n    \"rounded-2xl\",\r\n    \"w-8/12\",\r\n    \"bg-orangev2-100\",\r\n    \"transition-scale\",\r\n    \"duration-300\",\r\n    \"focus:outline-none\",\r\n    \"hover:bg-orangev2-200\",\r\n    \"transform\",\r\n    \"hover:scale-95\",\r\n  ].join(\" \");\r\n  return (\r\n    <button className={submitClassName} type=\"submit\">\r\n      {text}\r\n    </button>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport i18n from \"i18next\";\r\nimport { FLAG_RU, FLAG_UK } from \"./consts\";\r\n\r\nexport default function LanguageSwitcher() {\r\n  const [lng, setLng] = useState(i18n.language);\r\n  const switchLanguage = () => {\r\n    let currentValue = i18n.language === \"ru\" ? \"en\" : \"ru\";\r\n    i18n.changeLanguage(currentValue);\r\n    setLng(currentValue);\r\n  };\r\n  return (\r\n    <img\r\n      onClick={switchLanguage}\r\n      src={lng === \"ru\" ? FLAG_UK : FLAG_RU}\r\n      alt=\"flag\"\r\n      className=\"iconHover w-45px\"\r\n    />\r\n  );\r\n}\r\n","export const FLAG_RU = \"./images/flagRU.svg\";\r\nexport const FLAG_UK = \"./images/flagUK.svg\";","export const LOGO = \"./images/Logo.svg\";\r\nexport const IMAGE_URL = \"https://image.tmdb.org/t/p/original\";\r\nexport const TMDB_URL = \"https://api.themoviedb.org/3/\";\r\n","import { TMDB_URL } from \"consts\";\r\n\r\nconst key = \"3fdf4e43b4b9392d39cd5adb3bccd315\";\r\n\r\nfunction findUser(email) {\r\n  return parseLsUsers().find((user) => user.email === email);\r\n}\r\nasync function getResponse(URL) {\r\n  let response = await fetch(URL);\r\n  console.log(response);\r\n  if (response.ok) return response.json();\r\n}\r\n\r\nfunction parseLsUsers() {\r\n  return JSON.parse(localStorage.getItem(\"users\"));\r\n}\r\n\r\nexport function ucFirst(str) {\r\n  return str[0].toUpperCase() + str.slice(1);\r\n}\r\n\r\nexport function checkUserData(email, password) {\r\n  const user = findUser(email);\r\n  if (!user) return \"unknownUser\";\r\n  if (user.password !== password) return \"wrongPassword\";\r\n}\r\n\r\nexport function htmlLocalization(t) {\r\n  document.title = t(\"title\");\r\n  document\r\n    .querySelector('meta[name=\"description\"]')\r\n    .setAttribute(\"content\", t(\"content\"));\r\n  document.querySelector(\"noscript\").textContent = t(\"noscript\");\r\n}\r\n\r\nexport function addUsers() {\r\n  if (!localStorage.getItem(\"users\")) {\r\n    localStorage.setItem(\r\n      \"users\",\r\n      JSON.stringify([\r\n        {\r\n          email: \"Kazancev@yandex.ru\",\r\n          password: \"password\",\r\n          favoriteGenres: {},\r\n          favoriteMovies: {},\r\n        },\r\n        {\r\n          email: \"Database@mail.ru\",\r\n          password: \"password1\",\r\n          favoriteGenres: {},\r\n          favoriteMovies: {},\r\n        },\r\n      ])\r\n    );\r\n  }\r\n}\r\n\r\nexport async function getGenres(language) {\r\n  const URL = [\r\n    TMDB_URL,\r\n    \"genre/movie/list?api_key=\",\r\n    key,\r\n    \"&language=\",\r\n    language,\r\n  ].join(\"\");\r\n  return getResponse(URL);\r\n}\r\n\r\nexport function getFavorite(key) {\r\n  return findUser(localStorage.getItem(\"currentUser\"))[key];\r\n}\r\n\r\nfunction setUserData(key, value) {\r\n  const users = parseLsUsers().map((current) => {\r\n    if (current.email === localStorage.getItem(\"currentUser\"))\r\n      current[key] = value;\r\n    return current;\r\n  });\r\n  localStorage.setItem(\"users\", JSON.stringify(users));\r\n}\r\n\r\nexport function addFavoriteMovie(id) {\r\n  const favoriteMovies = getFavorite(\"favoriteMovies\");\r\n  favoriteMovies[id] = false;\r\n  setUserData(\"favoriteMovies\", favoriteMovies);\r\n}\r\n\r\nexport function setFavoriteMoviesHelper(favoriteMovies, id, deleteMovie) {\r\n  const updatedMovies = Object.assign({}, favoriteMovies);\r\n  if (deleteMovie) delete updatedMovies[id];\r\n  else updatedMovies[id] = !updatedMovies[id];\r\n  setUserData(\"favoriteMovies\", updatedMovies);\r\n  return updatedMovies;\r\n}\r\n\r\nexport function setFavoriteGenres(id, text, isFavorite) {\r\n  const favoriteGenres = getFavorite(\"favoriteGenres\");\r\n  if (isFavorite) delete favoriteGenres[id];\r\n  else favoriteGenres[id] = text;\r\n  setUserData(\"favoriteGenres\", favoriteGenres);\r\n}\r\n\r\nexport async function getMovieById(id, language) {\r\n  const URL = [\r\n    TMDB_URL,\r\n    \"movie/\",\r\n    id,\r\n    \"?api_key=\",\r\n    key,\r\n    \"&language=\",\r\n    language,\r\n  ].join(\"\");\r\n  return getResponse(URL);\r\n}\r\n\r\nexport async function getFilteredMovies(language, page, queryKeys) {\r\n  const formatedGenres = queryKeys.selectedGenres.join(\"%2C%20\");\r\n  const URL = [\r\n    TMDB_URL,\r\n    \"discover/movie?api_key=\",\r\n    key,\r\n    \"&language=\",\r\n    language,\r\n    \"&include_adult=true&sort_by=popularity.desc&page=\",\r\n    page,\r\n    \"&primary_release_year=\",\r\n    queryKeys.releaseYear,\r\n    \"&vote_average.gte=\",\r\n    queryKeys.rating,\r\n    \"&with_genres=\",\r\n    formatedGenres,\r\n  ].join(\"\");\r\n  return getResponse(URL);\r\n}\r\n\r\nexport function makeYearsList() {\r\n  const array = [];\r\n  for (let i = 2020; i >= 1950; i--) array.push({ value: i, label: i });\r\n  return array;\r\n}\r\n\r\nexport function setFilteredGenres(selectedGenres, id, isActive) {\r\n  const updatedSelectedGenres = isActive\r\n    ? selectedGenres.filter((current) => current !== id)\r\n    : selectedGenres.concat([id]);\r\n  return updatedSelectedGenres;\r\n}\r\n\r\nexport function formatingGenres(moviesInfo, genresFromAPI) {\r\n  return moviesInfo.map((current) => {\r\n    current[\"genres\"] = current.genre_ids.map((actual) => ({\r\n      name: genresFromAPI[actual],\r\n    }));\r\n    return current;\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport { FORM_ERROR } from \"final-form\";\r\nimport Input from \"./components/Input\";\r\nimport Error from \"./components/Error\";\r\nimport Submit from \"./components/Submit\";\r\nimport LanguageSwitcher from \"../../components/LanguageSwitcher\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory, Redirect } from \"react-router-dom\";\r\nimport { checkUserData } from \"utils\";\r\nimport { LOGO } from \"consts\";\r\n\r\nexport default function LoginPage() {\r\n  const onSubmit = ({ email, password }) => {\r\n    const error = checkUserData(email, password);\r\n    if (error) return { [FORM_ERROR]: error };\r\n    localStorage.setItem(\"currentUser\", String(email));\r\n    history.push(\"/main\");\r\n  };\r\n  const [{ t }, history] = [useTranslation(\"loginPage\"), useHistory()];\r\n  if (localStorage.getItem(\"currentUser\")) return <Redirect to=\"/main\" />;\r\n  return (\r\n    <div className=\"flex justify-center items-center h-screen bg-gradient-to-b from-blackv2-start to-blackv2-end\">\r\n      <div className=\"p-16 bg-blackv2-form border border-gray-800 shadow-2xl rounded-2xl\">\r\n        <img className=\"mb-5\" src={LOGO} alt=\"Logo\" />\r\n        <Form\r\n          onSubmit={onSubmit}\r\n          render={({ handleSubmit, submitError }) => (\r\n            <form\r\n              onSubmit={handleSubmit}\r\n              className=\"flex flex-col items-center\"\r\n            >\r\n              {submitError && <Error text={t(submitError)} />}\r\n              <Field\r\n                name=\"email\"\r\n                placeholder={t(\"emailHolder\")}\r\n                component={Input}\r\n              />\r\n              <Field\r\n                name=\"password\"\r\n                placeholder={t(\"passwordHolder\")}\r\n                component={Input}\r\n              />\r\n              <div className=\"flex justify-around w-full px-4 mt-6\">\r\n                <LanguageSwitcher />\r\n                <Submit text={t(\"submitLabel\")} />\r\n              </div>\r\n            </form>\r\n          )}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { LOGOUT } from \"./consts\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Logout() {\r\n  const history = useHistory();\r\n  const handleClickLogout = () => {\r\n    localStorage.removeItem(\"currentUser\");\r\n    history.push(\"/\");\r\n  };\r\n  return (\r\n    <div className=\"flex items-center\">\r\n      <div className=\" text-purple-100 text-xl mr-4\">\r\n        {localStorage.getItem(\"currentUser\")}\r\n      </div>\r\n      <img\r\n        onClick={handleClickLogout}\r\n        src={LOGOUT}\r\n        className=\"iconHover w-35px\"\r\n        alt=\"logout\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export const LOGOUT = \"./images/logout.svg\";","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { LOGO } from \"consts\";\r\nimport { LOGO_MAIN } from \"./consts\";\r\nimport LanguageSwitcher from \"../LanguageSwitcher\";\r\nimport Logout from \"../Logout\";\r\n\r\nexport default function Header() {\r\n  const history = useHistory();\r\n  return (\r\n    <div className=\"flex justify-center bg-black rounded-b-lgHeader xl:rounded-b-header shadow-header border-black  w-full h-24\">\r\n      <div className=\"flex w-4/6 justify-between items-center\">\r\n        <img\r\n          onClick={() => history.push(\"/main\")}\r\n          className=\"hidden w-1/2 xl:block\"\r\n          src={LOGO_MAIN}\r\n          alt=\"Logo\"\r\n        />\r\n        <img\r\n          onClick={() => history.push(\"/main\")}\r\n          className=\"w-56 xl:hidden\"\r\n          src={LOGO}\r\n          alt=\"AlternativeLogo\"\r\n        />\r\n        <LanguageSwitcher />\r\n        <Logout />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const LOGO_MAIN = \"./images/Logo_main.svg\";\r\n","import { useState, useEffect } from \"react\";\r\nimport { getGenres } from \"utils\";\r\n\r\nexport default function useGenres(lng = \"en-US\") {\r\n  const [genres, setGenres] = useState({});\r\n  useEffect(() => {\r\n    getGenres(lng).then((data) => {\r\n      const genresFromAPI = {};\r\n      data.genres.forEach((current) => {\r\n        genresFromAPI[current.id] = current.name;\r\n      });\r\n      setGenres(genresFromAPI);\r\n    });\r\n  }, [lng]);\r\n  return genres;\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst StyledTag = styled.button(({ isActive, md }) => [\r\n  tw`border-2 font-semibold px-3 py-1 m-1 rounded-full`,\r\n  tw`transition-colors duration-500 hover:shadow-ring focus:outline-none`,\r\n  isActive\r\n    ? tw`bg-orange-400 border-orange-400 text-gray-800`\r\n    : tw`text-orangev2-200 border-orangev2-100`,\r\n  md ? tw`text-lg` : tw`text-xl`,\r\n]);\r\n\r\nexport default StyledTag;\r\n","import React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport StyledTag from \"./styled\";\r\nimport { getFavorite, setFavoriteGenres } from \"utils\";\r\n\r\nexport default function Tag({ text, id }) {\r\n  const [isActive, setActivity] = useState(\r\n    Boolean(getFavorite(\"favoriteGenres\")[id])\r\n  );\r\n  const { t } = useTranslation(\"genres\");\r\n  const handleClickTag = () => {\r\n    setFavoriteGenres(id, text, isActive);\r\n    setActivity(!isActive);\r\n  };\r\n  return (\r\n    <StyledTag isActive={isActive} onClick={() => handleClickTag()}>\r\n      {t(text)}\r\n    </StyledTag>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport useGenres from \"components/hooks/useGenres\";\r\nimport Tag from \"components/Tag\";\r\n\r\nexport default function TagsCloud() {\r\n  const genres = useGenres();\r\n  const { t } = useTranslation(\"mainPage\");\r\n  return (\r\n    <div className=\"flex flex-col items-center w-2/3 mt-8\">\r\n      <div className=\"font-semibold uppercase text-orange-400 text-xl mb-5\">\r\n        {t(\"tagsCloudTitle\")}\r\n      </div>\r\n      <div className=\"flex flex-wrap justify-center rounded-2xl \">\r\n        {Object.keys(genres).map((current, index) => (\r\n          <Tag key={index} id={current} text={genres[current]} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst MoviesPanelContainer = styled.div`\r\n  ${tw`flex w-full rounded-2xl bg-grayv2-main p-4`}\r\n  ${({ isBlockView }) =>\r\n    !isBlockView ? tw`flex-col` : tw`justify-around flex-wrap`}\r\n  div[name=\"mainEmptyLabel\"] {\r\n    ${tw`text-2xl text-center font-semibold text-gray-800`}\r\n    ${({ length }) => length && tw`hidden`}\r\n  }\r\n`;\r\n\r\nexport default MoviesPanelContainer;\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst ToggleButtonsContainer = styled.div`\r\n  ${tw`flex w-1/3 justify-between`}\r\n  img {\r\n    ${tw`transform transition-transform duration-300 w-30px`}\r\n  }\r\n  img[name=\"block\"] {\r\n    ${tw`ml-2 mr-4`}\r\n    ${({ isBlockView }) => !isBlockView && tw`scale-82`}\r\n  }\r\n  img[name=\"list\"] {\r\n    ${({ isBlockView }) => isBlockView && tw`scale-82`}\r\n  }\r\n`;\r\n\r\nexport default ToggleButtonsContainer;\r\n","import React from \"react\";\r\nimport ToggleButtonsContainer from \"./styled\";\r\nimport { TABLE_VIEW, LIST_VIEW } from \"./consts\";\r\n\r\nexport default function ToggleButtons(props) {\r\n  return (\r\n    <ToggleButtonsContainer isBlockView={props.isBlockView}>\r\n      <img\r\n        name=\"block\"\r\n        alt=\"tableView\"\r\n        onClick={(e) => props.onClickToggleButton(true)}\r\n        src={TABLE_VIEW}\r\n      />\r\n      <img\r\n        name=\"list\"\r\n        alt=\"listView\"\r\n        onClick={(e) => props.onClickToggleButton(false)}\r\n        src={LIST_VIEW}\r\n      />\r\n    </ToggleButtonsContainer>\r\n  );\r\n}\r\n","export const TABLE_VIEW = \"./images/table_view.svg\";\r\nexport const LIST_VIEW = \"./images/list_view.svg\";\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst AddButton = styled.button(({ lng }) => [\r\n  tw`bg-beigev2 py-5px text-lg rounded-lg text-gray-800 font-semibold`,\r\n  tw`hover:shadow-add focus:outline-none`,\r\n  lng === \"en\" ? tw`px-8` : tw`px-3`,\r\n]);\r\n\r\nexport default AddButton;\r\n","import React from \"react\";\r\nimport i18n from \"i18next\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ToggleButtons from \"components/ToggleButtons\";\r\nimport AddButton from \"./styled\";\r\n\r\nexport default function MoviesPanelTitle(props) {\r\n  const history = useHistory();\r\n  const { title, isBlockView, buttonText } = props;\r\n  return (\r\n    <div className=\"flex items-baseline justify-between w-10/12 mb-5\">\r\n      <div className=\"font-semibold uppercase text-beigev2 text-xl\">\r\n        {title}\r\n      </div>\r\n      <div className=\"flex w-1/3 justify-around\">\r\n        <AddButton onClick={() => history.push(\"/search\")} lng={i18n.language}>\r\n          {buttonText}\r\n        </AddButton>\r\n        <ToggleButtons\r\n          isBlockView={isBlockView}\r\n          onClickToggleButton={props.onClickToggleButton}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { DELETE_MOVIE, CONFIRM_MOVIE } from \"./consts\";\r\n\r\nexport default function ServiceButtons(props) {\r\n  const serviceButtonsClassname =\r\n    \"bg-blackv2-main hover:shadow-service rounded-lg py-1 w-45 flex justify-center focus:outline-none\";\r\n  return (\r\n    <div className=\"flex justify-between w-11/12 mt-3 mb-4\">\r\n      <button\r\n        value={props.value}\r\n        onClick={props.onClickConfirm()}\r\n        className={serviceButtonsClassname}\r\n      >\r\n        <img className=\"w-35px\" alt=\"confirm\" src={CONFIRM_MOVIE} />\r\n      </button>\r\n      <button\r\n        value={props.value}\r\n        onClick={props.onClickDelete()}\r\n        className={serviceButtonsClassname}\r\n      >\r\n        <img className=\"w-30px\" alt=\"delete\" src={DELETE_MOVIE} />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","export const CONFIRM_MOVIE = \"./images/confirmMovie.svg\";\r\nexport const DELETE_MOVIE = \"./images/deleteMovie.svg\";","import tw, { styled } from \"twin.macro\";\r\n\r\nconst DisplayContainer = styled.div(({ isBlockView }) => [\r\n  tw`flex mr-1`,\r\n  !isBlockView && tw`mb-2`,\r\n]);\r\n\r\nexport default DisplayContainer;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport DisplayContainer from \"./styled\";\r\n\r\nexport default function DisplayMovieInfoHelper({\r\n  isBlockView,\r\n  voteAverage,\r\n  releaseDate,\r\n}) {\r\n  const { t } = useTranslation(\"moviesInfo\");\r\n  return (\r\n    <>\r\n      <DisplayContainer isBlockView={isBlockView}>\r\n        <div className=\"mr-1\">{t(\"releaseDate\")}</div>\r\n        <div className=\"text-orange-500\">{releaseDate}</div>\r\n      </DisplayContainer>\r\n      <DisplayContainer isBlockView={isBlockView}>\r\n        <div className=\"mr-1\">{t(\"rating\")}</div>\r\n        <div className=\"text-orange-500\">{voteAverage}</div>\r\n      </DisplayContainer>\r\n    </>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst BlockMovieViewContainer = styled.div(({ isActive }) => [\r\n  tw`flex flex-col justify-end w-64 rounded-xl`,\r\n  tw`transition duration-300 relative`,\r\n  isActive ? tw`hover:shadow-movie` : tw`opacity-45`,\r\n]);\r\n\r\nexport default BlockMovieViewContainer;\r\n","import React from \"react\";\r\nimport DisplayMovieInfoHelper from \"../DisplayMovieInfoHelper\";\r\nimport { IMAGE_URL } from \"consts\";\r\nimport BlockMovieViewContainer from \"./styled\";\r\n\r\nexport default function BlockMovieView(props) {\r\n  const { movieInfo, isActive } = props;\r\n  const imageSrc = IMAGE_URL + movieInfo.poster_path;\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center mx-4 mt-3\">\r\n      <BlockMovieViewContainer isActive={isActive}>\r\n        <img className=\"rounded-xl\" alt=\"filmImage\" src={imageSrc} />\r\n        <div className=\"absolute flex flex-col items-center text-lg text-beigev2 font-semibold py-3 rounded-b-xl opacity-95 w-full bg-blackv2-main\">\r\n          <div\r\n            align=\"center\"\r\n            className=\"uppercase w- flex-shrink text-base px-2 text-orangev2-100\"\r\n          >\r\n            {movieInfo.title}\r\n          </div>\r\n          <DisplayMovieInfoHelper\r\n            releaseDate={movieInfo.release_date}\r\n            voteAverage={movieInfo.vote_average}\r\n            isBlockView\r\n          />\r\n        </div>\r\n      </BlockMovieViewContainer>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst ListMovieViewContainer = styled.div`\r\n  ${tw`flex flex-row items-center w-full rounded-xl`}\r\n  ${tw`bg-blackv2-main mt-2 mx-2 p-2 transition duration-300`}\r\n  ${({ isActive }) =>\r\n    isActive ? tw`hover:shadow-movie` : tw`opacity-45 pointer-events-none`}\r\n  img[name=\"ageLimit\"] {\r\n    ${tw`absolute m-1 w-50px`}\r\n    ${({ adultOnly }) => !adultOnly && tw`hidden`}\r\n  }\r\n`;\r\n\r\nexport default ListMovieViewContainer;\r\n","import React from \"react\";\r\nimport { Scrollbar } from \"react-scrollbars-custom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport DisplayMovieInfoHelper from \"../DisplayMovieInfoHelper\";\r\nimport { ucFirst } from \"utils\";\r\n\r\nexport default function ListViewScrollbarContainer({ description }) {\r\n  const { t } = useTranslation(\"moviesInfo\");\r\n  const companies = description.production_companies;\r\n  const genres = description.genres.map((current, index) => (\r\n    <div\r\n      key={index}\r\n      className=\"px-3 py-1 m-1 rounded-full bg-orange-400 text-gray-800\"\r\n    >\r\n      {ucFirst(current.name)}\r\n    </div>\r\n  ));\r\n  const productionCompanies = companies\r\n    ? companies.map((current) => current.name).join(\", \")\r\n    : null;\r\n  return (\r\n    <Scrollbar>\r\n      <div className=\"flex text-beigev2 font-semibold text-lg flex-col items-center py-3 px-8\">\r\n        <div align=\"center\" className=\"text-orangev2-200 uppercase mb-2\">\r\n          {description.title}\r\n        </div>\r\n        <div className=\"flex justify-center flex-wrap mb-2\">{genres}</div>\r\n        <DisplayMovieInfoHelper\r\n          releaseDate={description.release_date}\r\n          voteAverage={description.vote_average}\r\n        />\r\n        {productionCompanies ? (\r\n          <p align=\"justify\" className=\"redLine mb-2\">\r\n            {t(\"production_companies\") + \" \"}\r\n            <span className=\"text-orange-500 ml-1\">{productionCompanies}</span>\r\n          </p>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        <p className=\"mb-2 redLine\" align=\"justify\">\r\n          {description.overview}\r\n        </p>\r\n      </div>\r\n    </Scrollbar>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ListMovieViewContainer from \"./styled\";\r\nimport ListViewScrollbarContainer from \"../ListViewScrollbarContainer\";\r\nimport { IMAGE_URL } from \"consts\";\r\nimport { AGE_LIMIT } from \"./consts\";\r\n\r\nexport default function ListMovieView(props) {\r\n  const { movieInfo, isActive } = props;\r\n  const imageSrc = IMAGE_URL + movieInfo.poster_path;\r\n  return (\r\n    <div className=\"flex flex-col items-center w-full px-2\">\r\n      <ListMovieViewContainer isActive={isActive} adultOnly={movieInfo.adult}>\r\n        <div className=\"flex justify-end relative w-64\">\r\n          <img\r\n            className=\"border border-white rounded-lg\"\r\n            alt=\"filmImage\"\r\n            src={imageSrc}\r\n          />\r\n          <img name=\"ageLimit\" alt=\"ageLimit\" src={AGE_LIMIT} />\r\n        </div>\r\n        <ListViewScrollbarContainer description={movieInfo} />\r\n      </ListMovieViewContainer>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n","export const AGE_LIMIT = \"./images/age_limit.svg\";","import React from \"react\";\r\nimport BlockMovieView from \"components/BlockMovieView\";\r\nimport ListMovieView from \"components/ListMovieView\";\r\n\r\nexport default function MovieView(props) {\r\n  const { movieInfo, isActive } = props;\r\n  if (!movieInfo.poster_path) return null;\r\n  return props.isBlockView ? (\r\n    <BlockMovieView movieInfo={movieInfo} isActive={isActive}>\r\n      {props.children}\r\n    </BlockMovieView>\r\n  ) : (\r\n    <ListMovieView movieInfo={movieInfo} isActive={isActive}>\r\n      {props.children}\r\n    </ListMovieView>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport i18n from \"i18next\";\r\nimport { getMovieById } from \"utils\";\r\nimport ServiceButtons from \"components/ServiceButtons\";\r\nimport MovieView from \"components/MovieView\";\r\n\r\nexport default function MovieViewWrapper(props) {\r\n  const { isViewed, isBlockView, movieId } = props;\r\n  const [movieInfo, setMovieInfo] = useState();\r\n  useEffect(() => {\r\n    const lng = i18n.language === \"en\" ? \"en-US\" : \"ru\";\r\n    getMovieById(movieId, lng).then((data) => setMovieInfo(data));\r\n  }, [i18n.language]);\r\n  if (!movieInfo) return null;\r\n  return (\r\n    <MovieView\r\n      movieInfo={movieInfo}\r\n      isBlockView={isBlockView}\r\n      isActive={!isViewed}\r\n    >\r\n      <ServiceButtons\r\n        value={movieInfo.id}\r\n        onClickConfirm={() => props.onClickConfirm()}\r\n        onClickDelete={() => props.onClickDelete()}\r\n      />\r\n    </MovieView>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { getFavorite, setFavoriteMoviesHelper } from \"utils\";\r\nimport MoviesPanelContainer from \"./styled\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport MoviesPanelTitle from \"../MoviesPanelTitle\";\r\nimport MovieViewWrapper from \"../MovieViewWrapper\";\r\n\r\nexport default function MoviesPanel() {\r\n  const { t } = useTranslation(\"mainPage\");\r\n  const [favoriteMovies, setFavoriteMovies] = useState(\r\n    getFavorite(\"favoriteMovies\")\r\n  );\r\n  const [isBlockView, setIsBlockView] = useState(true);\r\n  const handleClickDeleteButton = (e) => {\r\n    setFavoriteMovies(\r\n      setFavoriteMoviesHelper(favoriteMovies, e.currentTarget.value, \"delete\")\r\n    );\r\n  };\r\n  const handleClickConfirmButton = (e) => {\r\n    setFavoriteMovies(\r\n      setFavoriteMoviesHelper(favoriteMovies, e.currentTarget.value)\r\n    );\r\n  };\r\n  const moviesKeys = Object.keys(favoriteMovies);\r\n  return (\r\n    <div className=\"flex flex-col items-center my-16 w-9/12 \">\r\n      <MoviesPanelTitle\r\n        title={t(\"moviesPanelTitle\")}\r\n        buttonText={t(\"addButtonText\")}\r\n        isBlockView={isBlockView}\r\n        onClickToggleButton={setIsBlockView}\r\n      />\r\n      <MoviesPanelContainer\r\n        length={moviesKeys.length}\r\n        isBlockView={isBlockView}\r\n      >\r\n        <div name=\"mainEmptyLabel\">{t(\"emptyLabel\")}</div>\r\n        {moviesKeys.map((current) => (\r\n          <MovieViewWrapper\r\n            key={current}\r\n            movieId={current}\r\n            isViewed={favoriteMovies[current]}\r\n            onClickDelete={() => handleClickDeleteButton}\r\n            onClickConfirm={() => handleClickConfirmButton}\r\n            isBlockView={isBlockView}\r\n          />\r\n        ))}\r\n      </MoviesPanelContainer>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Header from \"components/Header\";\r\nimport TagsCloud from \"./components/TagsCloud\";\r\nimport MoviesPanel from \"./components/MoviesPanel\";\r\n\r\nexport default function MainPage() {\r\n  return (\r\n    <div className=\"flex flex-col items-center h-screen overflow-auto bg-blackv2-main\">\r\n      <Header />\r\n      <TagsCloud />\r\n      <MoviesPanel />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport StyledTag from \"components/Tag/styled\";\r\nimport { ucFirst } from \"utils\";\r\n\r\nexport default function Genre(props) {\r\n  const { id, text } = props;\r\n  const [isActive, setActivity] = useState(false);\r\n  const handleClickGenre = (e) => {\r\n    props.onChangeSelectedGenres(e.target.id, isActive);\r\n    setActivity(!isActive);\r\n  };\r\n  return (\r\n    <StyledTag md isActive={isActive} id={id} onClick={handleClickGenre}>\r\n      {ucFirst(text)}\r\n    </StyledTag>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\nimport Slider from \"@bit/mui-org.material-ui.slider\";\r\n\r\nconst StyledSlider = styled(Slider)`\r\n  ${tw`text-beigev2 h-2 w-250px`}\r\n  & .MuiSlider-thumb {\r\n    ${tw`bg-yellow-300 w-6 h-6 border-3 border-orangev2-200 -mt-2 -ml-3`}\r\n    ${tw`hover:shadow-none focus:shadow-none active:shadow-none`}\r\n  }\r\n  & .MuiSlider-track,\r\n  .MuiSlider-rail {\r\n    ${tw`h-2 rounded`}\r\n  }\r\n`;\r\n\r\nexport const CustomSliderContainer = styled.div`\r\n  ${tw`flex flex-col items-center`}\r\n  div[name=\"sliderTitle\"] {\r\n    ${tw`font-semibold uppercase text-orange-400 text-lg mb-1`}\r\n  }\r\n  div[name=\"sliderMain\"] {\r\n    ${tw`flex items-center`}\r\n  }\r\n  div[name=\"sliderLabel\"] {\r\n    ${tw`flex items-center justify-center border-4 border-orange-400`}\r\n    ${tw`font-semibold text-gray-800 text-lg ml-6 rounded-full`}\r\n    ${tw`bg-beigev2 h-12 w-12`}\r\n  }\r\n`;\r\n\r\nexport default StyledSlider;\r\n","import React, { useState } from \"react\";\r\nimport StyledSlider, { CustomSliderContainer } from \"./styled\";\r\nimport { StylesProvider } from \"@bit/mui-org.material-ui.styles\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function CustomSlider(props) {\r\n  const [sliderLabelValue, setLabelValue] = useState(5);\r\n  const { t } = useTranslation(\"searchPage\");\r\n  return (\r\n    <CustomSliderContainer>\r\n      <div name=\"sliderTitle\">{t(\"rating\")}</div>\r\n      <div name=\"sliderMain\">\r\n        <StylesProvider injectFirst>\r\n          <StyledSlider\r\n            step={0.1}\r\n            max={10}\r\n            defaultValue={5}\r\n            onChangeCommitted={(e, newValue) => props.onChangeRating(newValue)}\r\n            onChange={(e, newValue) => setLabelValue(newValue)}\r\n          />\r\n        </StylesProvider>\r\n        <div name=\"sliderLabel\">{sliderLabelValue}</div>\r\n      </div>\r\n    </CustomSliderContainer>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\nimport Select from \"react-select\";\r\n\r\nconst StyledSelect = styled(Select)`\r\n  & .select__control {\r\n    ${tw`border-2 border-orange-400 bg-yellow-100 w-40 hover:border-orangev2-200`}\r\n  }\r\n  & .select__control--is-focused {\r\n    ${tw`shadow-yearSelect`}\r\n  }\r\n  & .select__value-container {\r\n    ${tw`flex justify-center font-semibold text-lg text-gray-800`}\r\n  }\r\n  & .select__input {\r\n    ${tw`font-bold`}\r\n  }\r\n  & .select__menu {\r\n    ${tw`bg-yellow-100`}\r\n  }\r\n  & .select__option {\r\n    ${tw`text-center font-semibold bg-yellow-100 hover:bg-yellow-200`}\r\n  }\r\n  & .select__option--is-selected {\r\n    ${tw`bg-orange-400 text-gray-800 hover:bg-orange-400`}\r\n  }\r\n`;\r\n\r\nexport const CustomSelectContainer = styled.div`\r\n  ${tw`flex flex-col items-center`}\r\n  div[name=\"selectTitle\"] {\r\n    ${tw`font-semibold uppercase text-orange-400 text-lg mb-4`}\r\n  }\r\n`;\r\n\r\nexport default StyledSelect;\r\n","import React from \"react\";\r\nimport StyledSelect, { CustomSelectContainer } from \"./styled\";\r\nimport { makeYearsList } from \"utils\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function CustomSelect(props) {\r\n  const options = makeYearsList();\r\n  const { t } = useTranslation(\"searchPage\");\r\n  return (\r\n    <CustomSelectContainer>\r\n      <div name=\"selectTitle\">{t(\"releaseYear\")}</div>\r\n      <StyledSelect\r\n        className=\"select-container\"\r\n        classNamePrefix=\"select\"\r\n        options={options}\r\n        onChange={(e) => props.onChangeSelect(e.value)}\r\n        defaultValue={{ value: 2020, label: \"2020\" }}\r\n      />\r\n    </CustomSelectContainer>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst FiltersContainer = styled.div`\r\n  ${tw`flex flex-col items-center w-9/12 mt-8`}\r\n  div[name=\"filtersTitle\"] {\r\n    ${tw`font-semibold uppercase text-orange-400 text-xl mb-5`}\r\n  }\r\n  div[name=\"filtersGenres\"] {\r\n    ${tw`flex flex-wrap justify-center mb-5`}\r\n  }\r\n  div[name=\"filtersMain\"] {\r\n    ${tw`flex w-600px justify-between items-center`}\r\n  }\r\n`;\r\n\r\nexport default FiltersContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Genre from \"../Genre\";\r\nimport CustomSlider from \"../CustomSlider\";\r\nimport CustomSelect from \"../CustomSelect\";\r\nimport FiltersContainer from \"./styled\";\r\nimport { setFilteredGenres } from \"utils\";\r\n\r\nexport default function Filters(props) {\r\n  const { queryKeys, genresFromApi } = props;\r\n  const { t } = useTranslation(\"searchPage\");\r\n  const [rating, setRating] = useState(queryKeys.rating);\r\n  const [releaseYear, setReleaseYear] = useState(queryKeys.releaseYear);\r\n  const [selectedGenres, setSelectedGenres] = useState(\r\n    queryKeys.selectedGenres\r\n  );\r\n  const handleChangeSelectedGenres = (id, isActive) => {\r\n    const updatedGenres = setFilteredGenres(selectedGenres, id, isActive);\r\n    setSelectedGenres(updatedGenres);\r\n  };\r\n  useEffect(() => {\r\n    props.setQueryKeys({\r\n      releaseYear: releaseYear,\r\n      rating: rating,\r\n      selectedGenres: selectedGenres,\r\n    });\r\n    props.setPage(1);\r\n  }, [rating, releaseYear, selectedGenres]);\r\n  return (\r\n    <FiltersContainer>\r\n      <div name=\"filtersTitle\">{t(\"title\")}</div>\r\n      <div name=\"filtersGenres\">\r\n        {Object.keys(genresFromApi).map((current, index) => (\r\n          <Genre\r\n            onChangeSelectedGenres={handleChangeSelectedGenres}\r\n            key={index}\r\n            id={current}\r\n            text={genresFromApi[current]}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div name=\"filtersMain\">\r\n        <CustomSlider\r\n          onChangeRating={(actualRating) => setRating(actualRating)}\r\n        />\r\n        <CustomSelect\r\n          onChangeSelect={(actualYear) => setReleaseYear(actualYear)}\r\n        />\r\n      </div>\r\n    </FiltersContainer>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst AddFilmButton = styled.button(({ lng, disabled, isBlockView }) => [\r\n  tw`bg-yellow-100 border-orange-400 w-1/2 py-5px text-lg rounded-lg`,\r\n  tw`text-gray-800 font-semibold transition duration-300`,\r\n  tw`hover:shadow-add hover:bg-yellow-200 focus:outline-none mt-3 mb-2`,\r\n  lng === \"en\" ? tw`px-8` : tw`px-3`,\r\n  disabled && tw`opacity-45 pointer-events-none`,\r\n  !isBlockView && tw`ml-24 xl:ml-56`,\r\n]);\r\n\r\nexport default AddFilmButton;\r\n","import React, { useState } from \"react\";\r\nimport MovieView from \"components/MovieView\";\r\nimport i18n from \"i18next\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { addFavoriteMovie, getFavorite } from \"utils\";\r\nimport AddFilmButton from \"./styled\";\r\n\r\nexport default function SearchMovieViewWrapper({ movieInfo, isBlockView }) {\r\n  const [isActive, setActivity] = useState(\r\n    typeof getFavorite(\"favoriteMovies\")[movieInfo.id] === \"undefined\"\r\n  );\r\n  const { t } = useTranslation(\"searchPage\");\r\n  const buttonText = isBlockView ? t(\"add\") : t(\"addToFavorite\");\r\n  const handleClickAddButton = (e) => {\r\n    addFavoriteMovie(e.target.id);\r\n    setActivity(!isActive);\r\n  };\r\n  return (\r\n    <MovieView\r\n      movieInfo={movieInfo}\r\n      isBlockView={isBlockView}\r\n      isActive={isActive}\r\n    >\r\n      <AddFilmButton\r\n        disabled={!isActive}\r\n        lng={i18n.language}\r\n        onClick={handleClickAddButton}\r\n        isBlockView={isBlockView}\r\n        id={movieInfo.id}\r\n      >\r\n        {buttonText}\r\n      </AddFilmButton>\r\n    </MovieView>\r\n  );\r\n}\r\n","export const NEXT_PAGE = \"./images/nextPage.svg\";\r\nexport const PREVIOUS_PAGE = \"./images/previousPage.svg\";\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst PageSwitcherContainer = styled.div`\r\n  ${tw`flex items-center`}\r\n  div[name=\"pageLabel\"] {\r\n    ${tw`text-3xl text-orange-400 mx-3`}\r\n  }\r\n  img {\r\n    ${tw`w-5 transform transition-scale duration-300`}\r\n    ${tw`hover:scale-90 focus:outline-none`}\r\n  }\r\n  img[name=\"left\"] {\r\n    ${({ actualPage }) => actualPage === 1 && tw`pointer-events-none`}\r\n  }\r\n  img[name=\"right\"] {\r\n    ${({ isNextPage }) => !isNextPage && tw`pointer-events-none`}\r\n  }\r\n`;\r\n\r\nexport default PageSwitcherContainer;\r\n","import React from \"react\";\r\nimport { NEXT_PAGE, PREVIOUS_PAGE } from \"./consts\";\r\nimport PageSwitcherContainer from \"./styled\";\r\n\r\nexport default function PageSwitcher(props) {\r\n  const { actualPage, isNextPage } = props;\r\n  return (\r\n    <PageSwitcherContainer isNextPage={isNextPage} actualPage={actualPage}>\r\n      <img\r\n        onClick={(e) => props.setPage(actualPage - 1)}\r\n        name=\"left\"\r\n        src={PREVIOUS_PAGE}\r\n        alt={\"previousPage\"}\r\n      />\r\n      <div name=\"pageLabel\">{actualPage}</div>\r\n      <img\r\n        onClick={(e) => props.setPage(actualPage + 1)}\r\n        name=\"right\"\r\n        src={NEXT_PAGE}\r\n        alt={\"nextPage\"}\r\n      />\r\n    </PageSwitcherContainer>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\n\r\nconst FilteredMoviesPanelContainer = styled.div`\r\n  ${tw`flex flex-col items-center my-16 w-9/12`}\r\n  div[name=\"searchPanel\"] {\r\n    ${tw`flex w-full rounded-2xl bg-grayv2-main p-4 justify-around flex-wrap`}\r\n    ${({ isBlockView }) =>\r\n      !isBlockView ? tw`flex-col` : tw`justify-around flex-wrap`}\r\n  }\r\n  div[name=\"searchTitle\"] {\r\n    ${tw`flex justify-around self-end w-1/4 mb-5 mr-20`}\r\n  }\r\n  div[name=\"searchEmptyLabel\"] {\r\n    ${tw`text-2xl text-center font-semibold text-gray-800`}\r\n    ${({ length }) => length && tw`hidden`}\r\n  }\r\n`;\r\n\r\nexport default FilteredMoviesPanelContainer;\r\n","import React, { useState } from \"react\";\r\nimport ToggleButtons from \"components/ToggleButtons\";\r\nimport SearchMovieViewWrapper from \"../SearchMovieViewWrapper\";\r\nimport PageSwitcher from \"../PageSwitcher\";\r\nimport FilteredMoviesPanelContainer from \"./styled\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function FilteredMoviesPanel(props) {\r\n  const [isBlockView, setIsBlockView] = useState(true);\r\n  const { t } = useTranslation(\"searchPage\");\r\n  const { actualPage, isNextPage, moviesInfo } = props;\r\n  if (!moviesInfo) return null;\r\n  return (\r\n    <FilteredMoviesPanelContainer\r\n      length={moviesInfo.length}\r\n      isBlockView={isBlockView}\r\n    >\r\n      <div name=\"searchTitle\">\r\n        <PageSwitcher\r\n          setPage={(object) => props.setPage(object)}\r\n          actualPage={actualPage}\r\n          isNextPage={isNextPage}\r\n        />\r\n        <ToggleButtons\r\n          isBlockView={isBlockView}\r\n          onClickToggleButton={setIsBlockView}\r\n        />\r\n      </div>\r\n      <div name=\"searchPanel\">\r\n        <div name=\"searchEmptyLabel\">{t(\"emptyLabel\")}</div>\r\n        {moviesInfo.map((current) => (\r\n          <SearchMovieViewWrapper\r\n            key={current.id}\r\n            movieInfo={current}\r\n            isBlockView={isBlockView}\r\n          />\r\n        ))}\r\n      </div>\r\n    </FilteredMoviesPanelContainer>\r\n  );\r\n}\r\n","import tw, { styled } from \"twin.macro\";\r\nconst SearchPageContainer = styled.div`\r\n  ${tw`flex flex-col items-center h-screen overflow-auto bg-blackv2-main`}\r\n`;\r\nexport default SearchPageContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport i18n from \"i18next\";\r\nimport Header from \"components/Header\";\r\nimport useGenres from \"components/hooks/useGenres\";\r\nimport Filters from \"./Filters\";\r\nimport FilteredMoviesPanel from \"./FilteredMoviesPanel\";\r\nimport SearchPageContainer from \"./styled\";\r\nimport { getFilteredMovies, formatingGenres } from \"utils\";\r\n\r\nexport default function SearchPage() {\r\n  const [queryKeys, setQueryKeys] = useState({\r\n    releaseYear: 2020,\r\n    rating: 5,\r\n    selectedGenres: [],\r\n  });\r\n  const [page, setPage] = useState(1);\r\n  const [isNextPage, setIsNextPage] = useState(false);\r\n  const genresFromApi = useGenres(i18n.language);\r\n  const [moviesInfo, setMoviesInfo] = useState();\r\n  useEffect(() => {\r\n    getFilteredMovies(i18n.language, page, queryKeys).then((data) => {\r\n      const results = data.results;\r\n      setIsNextPage(results.length === 20);\r\n      setMoviesInfo(formatingGenres(results, genresFromApi));\r\n    });\r\n  }, [queryKeys, i18n.language, page, genresFromApi]);\r\n  return (\r\n    <SearchPageContainer>\r\n      <Header />\r\n      <Filters\r\n        queryKeys={queryKeys}\r\n        setQueryKeys={(object) => setQueryKeys(object)}\r\n        genresFromApi={genresFromApi}\r\n        setPage={(number) => setPage(number)}\r\n      />\r\n      <FilteredMoviesPanel\r\n        actualPage={page}\r\n        isNextPage={isNextPage}\r\n        setPage={(number) => setPage(number)}\r\n        moviesInfo={moviesInfo}\r\n      />\r\n    </SearchPageContainer>\r\n  );\r\n}\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nconst [en, ru] = [require(\"./en.json\"), require(\"./ru.json\")];\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    en: en,\r\n    ru: ru,\r\n  },\r\n  lng: \"ru\",\r\n});\r\n","import React from \"react\";\r\nimport { Switch, Route, HashRouter } from \"react-router-dom\";\r\nimport LoginPage from \"pages/LoginPage\";\r\nimport MainPage from \"pages/MainPage\";\r\nimport SearchPage from \"pages/SearchPage\";\r\nimport \"localization\";\r\nimport \"styles/tailwindcss.css\";\r\nimport { addUsers, htmlLocalization } from \"utils\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function App() {\r\n  const { t } = useTranslation(\"other\");\r\n  addUsers();\r\n  htmlLocalization(t);\r\n  return (\r\n    <HashRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={LoginPage} />\r\n        <Route path=\"/main\" component={MainPage} />\r\n        <Route path=\"/search\" component={SearchPage} />\r\n      </Switch>\r\n    </HashRouter>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}